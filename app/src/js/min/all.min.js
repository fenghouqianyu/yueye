angular.module("myapp",["ui.router"]);
function index(a){window.localStorage.data&&(a.data=window.JSON.parse(window.localStorage.data)),$.ajax({url:"http://127.0.0.1:3030/getindexdata?callback=?",dataType:"jsonp",async:1,success:function(e){a.data.code!=e.code?window.localStorage.data=window.JSON.stringify(e):window.localStorage.data||(window.localStorage.data=window.JSON.stringify(e))}}),setTimeout(function(a){new IScroll("#main",{click:!0})},100)}function shujia(a,e){a.data=document.URL.split("#/")[1];for(var t=document.getElementsByTagName("div"),o=0,n=0;n<t.length;n++)"dle"==t[n].className&&o++;a.div=[];for(var n=0;n<o;n++)a.div.push(!1);a.click2=function(a){},a.show=!1;var c=["管理","书架"];a.a=c[0],a.b=c[1],a.click=function(e){if(a.show=!a.show,a.show)a.click2=function(e){a.div[e]=!a.div[e]},a.a=c[1],a.b=c[0];else{for(var t=0;t<a.div.length;t++)a.div[t]=!1;a.click2=function(a){},a.a=c[0],a.b=c[1]}}}function login(a){a.name="",a.password="",a.sub=function(e){var t="?name="+a.name+"&password="+a.password+"&";$.ajax({url:"http://127.0.0.1:3030/login"+t+"callback=?",dataType:"jsonp",success:function(a){console.log(a),a.code?(console.log(a.name),location.href="#/admain"):(a.name&&alert("帐号错误"),a.password&&alert("密码错误"))}})}}function zhuche(a){a.t=0,a.test=function(){if(/^1[34578]\d{9}$/.test(a.tel)){var e="?name="+a.tel+"&";$.ajax({url:"http://127.0.0.1:3030/zheche"+e+"callback=?",dataType:"jsonp",success:function(e){1==e.code?alert("号码已经注册"):(alert("您的验证码是"+e.test),a.t=1)}})}else alert("请填写有效的电话好吗")},a.zhuche=function(){if(a.t)if(a.text){var e="?name="+a.tel+"&text="+a.text+"&";$.ajax({url:"http://127.0.0.1:3030/zheche2"+e+"callback=?",dataType:"jsonp",success:function(a){0==a.code?alert("请确定要注册的帐号正确"):2==a.code?alert("请输入正确的验证码"):alert("注册成功，您的密码是:"+a.password)}})}else alert("请输入验证码");else alert("请先获取你的验证码")}}index.$inject=["$scope"],login.$inject=["$scope"],zhuche.$inject=["$scope"],shujia.$inject=["$scope","$rootScope"],angular.module("myapp").controller("index",index).controller("login",login).controller("zhuche",zhuche).controller("shujia",shujia);
function config(l,t){t.otherwise("index"),l.state("index",{url:"/index",templateUrl:"html/min/index.min.html",controller:"index"}).state("fenglei",{url:"/fenglei",templateUrl:"html/min/fenglei.min.html",controller:"index"}).state("paihang",{url:"/paihang",templateUrl:"html/min/paihang.min.html",controller:"index"}).state("admain",{url:"/admain",templateUrl:"html/min/admain.min.html",controller:"index"}).state("shujia",{url:"/shujia",templateUrl:"html/min/shujia.min.html",controller:"shujia"}).state("nanpin",{url:"/nanpin",templateUrl:"html/min/nanpin.min.html",controller:"index"}).state("nvpin",{url:"/nvpin",templateUrl:"html/min/nvpin.min.html",controller:"index"}).state("wenxue",{url:"/wenxue",templateUrl:"html/min/wenxue.min.html",controller:"index"}).state("pianhao",{url:"/pianhao",templateUrl:"html/min/pianhao.min.html",controller:"index"}).state("yuepiaobang",{url:"/yuepiaobang",templateUrl:"html/min/yuepiaobang.min.html",controller:"index"}).state("denglu",{url:"/denglu",templateUrl:"html/min/denglu.min.html",controller:"login"}).state("user",{url:"/user",templateUrl:"html/min/user.min.html",controller:"index"}).state("shezhi",{url:"/shezhi",templateUrl:"html/min/shezhi.min.html",controller:"index"}).state("zhuche",{url:"/zhuche",templateUrl:"html/min/zhuche.min.html",controller:"zhuche"}).state("zhiliao",{url:"/zhiliao",templateUrl:"html/min/zhiliao.min.html",controller:"index"}).state("guanzhu",{url:"/guanzhu",templateUrl:"html/min/guanzhu.min.html",controller:"index"}).state("taolunqu",{url:"/taolunqu",templateUrl:"html/min/taolunqu.min.html",controller:"index"}).state("nicheng",{url:"/nicheng",templateUrl:"html/min/nicheng.min.html",controller:"index"}).state("shengri",{url:"/shengri",templateUrl:"html/min/shengri.min.html",controller:"index"}).state("diqu",{url:"/diqu",templateUrl:"html/min/diqu.min.html",controller:"index"}).state("jianjie",{url:"/jianjie",templateUrl:"html/min/jianjie.min.html",controller:"index"}).state("qiandao",{url:"/qiandao",templateUrl:"html/min/qiandao.min.html",controller:"index"}).state("xinshubang",{url:"/xinshubang",templateUrl:"html/min/xinshubang.min.html",controller:"index"}).state("reshoubang",{url:"/reshoubang",templateUrl:"html/min/reshoubang.min.html",controller:"index"}).state("fankui",{url:"/fankui",templateUrl:"html/min/fankui.min.html",controller:"index"}).state("mima",{url:"/mima",templateUrl:"html/min/mima.min.html",controller:"index"}).state("wangqi",{url:"/wangqi",templateUrl:"html/min/wangqi.min.html",controller:"index"}).state("jianglishuoming",{url:"/jianglishuoming",templateUrl:"html/min/jianglishuoming.min.html",controller:"index"}).state("mianfeibang",{url:"/mianfeibang",templateUrl:"html/min/mianfeibang.min.html",controller:"index"}).state("shouchang",{url:"/shouchang",templateUrl:"html/min/shouchang.min.html",controller:"index"})}config.$inject=["$stateProvider","$urlRouterProvider"],angular.module("myapp").config(config);