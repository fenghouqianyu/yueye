angular.module("myapp",["ui.router"]);
function index(e){window.localStorage.data&&(e.data=window.JSON.parse(window.localStorage.data)),$.ajax({url:"http://127.0.0.1:3030/getindexdata?callback=?",dataType:"jsonp",async:1,success:function(e){window.localStorage.data=window.JSON.stringify(e)}}),setTimeout(function(e){new IScroll("#main",{click:!0})},100)}function shujia(e,a){e.data=document.URL.split("#/")[1];for(var t=document.getElementsByTagName("div"),n=0,o=0;o<t.length;o++)"dle"==t[o].className&&n++;e.div=[];for(var o=0;o<n;o++)e.div.push(!1);e.click2=function(e){},e.show=!1;var c=["管理","书架"];e.a=c[0],e.b=c[1],e.click=function(a){if(e.show=!e.show,e.show)e.click2=function(a){e.div[a]=!e.div[a]},e.a=c[1],e.b=c[0];else{for(var t=0;t<e.div.length;t++)e.div[t]=!1;e.click2=function(e){},e.a=c[0],e.b=c[1]}}}function login(e){e.name="",e.password="",e.sub=function(a){var t="?name="+e.name+"&password="+e.password+"&";$.ajax({url:"http://127.0.0.1:3030/login"+t+"callback=?",dataType:"jsonp",success:function(e){console.log(e),e.code?(console.log(e.name),location.href="#/admain"):(e.name&&alert("帐号错误"),e.password&&alert("密码错误"))}})}}function zhuche(e){e.t=0,e.test=function(){if(/^1[34578]\d{9}$/.test(e.tel)){var a="?name="+e.tel+"&";$.ajax({url:"http://127.0.0.1:3030/zheche"+a+"callback=?",dataType:"jsonp",success:function(a){1==a.code?alert("号码已经注册"):(alert("您的验证码是"+a.test),e.t=1)}})}else alert("请填写有效的电话好吗")},e.zhuche=function(){if(e.t)if(e.text){var a="?name="+e.tel+"&text="+e.text+"&";$.ajax({url:"http://127.0.0.1:3030/zheche2"+a+"callback=?",dataType:"jsonp",success:function(e){0==e.code?alert("请确定要注册的帐号正确"):2==e.code?alert("请输入正确的验证码"):alert("注册成功，您的密码是:"+e.password)}})}else alert("请输入验证码");else alert("请先获取你的验证码")}}index.$inject=["$scope"],login.$inject=["$scope"],zhuche.$inject=["$scope"],shujia.$inject=["$scope","$rootScope"],angular.module("myapp").controller("index",index).controller("login",login).controller("zhuche",zhuche).controller("shujia",shujia);
function config(l,t){t.otherwise("index"),l.state("index",{url:"/index",templateUrl:"html/min/index.min.html",controller:"index"}).state("fenglei",{url:"/fenglei",templateUrl:"html/min/fenglei.min.html",controller:"index"}).state("paihang",{url:"/paihang",templateUrl:"html/min/paihang.min.html",controller:"index"}).state("admain",{url:"/admain",templateUrl:"html/min/admain.min.html",controller:"index"}).state("shujia",{url:"/shujia",templateUrl:"html/min/shujia.min.html",controller:"shujia"}).state("nanpin",{url:"/nanpin",templateUrl:"html/min/nanpin.min.html",controller:"index"}).state("nvpin",{url:"/nvpin",templateUrl:"html/min/nvpin.min.html",controller:"index"}).state("wenxue",{url:"/wenxue",templateUrl:"html/min/wenxue.min.html",controller:"index"}).state("pianhao",{url:"/pianhao",templateUrl:"html/min/pianhao.min.html",controller:"index"}).state("yuepiaobang",{url:"/yuepiaobang",templateUrl:"html/min/yuepiaobang.min.html",controller:"index"}).state("denglu",{url:"/denglu",templateUrl:"html/min/denglu.min.html",controller:"login"}).state("user",{url:"/user",templateUrl:"html/min/user.min.html",controller:"index"}).state("shezhi",{url:"/shezhi",templateUrl:"html/min/shezhi.min.html",controller:"index"}).state("zhuche",{url:"/zhuche",templateUrl:"html/min/zhuche.min.html",controller:"zhuche"}).state("zhiliao",{url:"/zhiliao",templateUrl:"html/min/zhiliao.min.html",controller:"index"}).state("guanzhu",{url:"/guanzhu",templateUrl:"html/min/guanzhu.min.html",controller:"index"}).state("taolunqu",{url:"/taolunqu",templateUrl:"html/min/taolunqu.min.html",controller:"index"}).state("nicheng",{url:"/nicheng",templateUrl:"html/min/nicheng.min.html",controller:"index"}).state("shengri",{url:"/shengri",templateUrl:"html/min/shengri.min.html",controller:"index"}).state("diqu",{url:"/diqu",templateUrl:"html/min/diqu.min.html",controller:"index"}).state("jianjie",{url:"/jianjie",templateUrl:"html/min/jianjie.min.html",controller:"index"}).state("qiandao",{url:"/qiandao",templateUrl:"html/min/qiandao.min.html",controller:"index"}).state("xinshubang",{url:"/xinshubang",templateUrl:"html/min/xinshubang.min.html",controller:"index"}).state("reshoubang",{url:"/reshoubang",templateUrl:"html/min/reshoubang.min.html",controller:"index"}).state("fankui",{url:"/fankui",templateUrl:"html/min/fankui.min.html",controller:"index"}).state("mima",{url:"/mima",templateUrl:"html/min/mima.min.html",controller:"index"}).state("wangqi",{url:"/wangqi",templateUrl:"html/min/wangqi.min.html",controller:"index"}).state("jianglishuoming",{url:"/jianglishuoming",templateUrl:"html/min/jianglishuoming.min.html",controller:"index"}).state("mianfeibang",{url:"/mianfeibang",templateUrl:"html/min/mianfeibang.min.html",controller:"index"}).state("shouchang",{url:"/shouchang",templateUrl:"html/min/shouchang.min.html",controller:"index"})}config.$inject=["$stateProvider","$urlRouterProvider"],angular.module("myapp").config(config);